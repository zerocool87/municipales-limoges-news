@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Condensed:wght@300;400;700&display=swap');

:root{
  --bg:#16243a;
  --bg-accent: radial-gradient(circle at 20% 20%,rgba(0,240,255,0.13),transparent 35%),radial-gradient(circle at 80% 10%,rgba(255,45,166,0.13),transparent 30%),linear-gradient(180deg,#16243a,#24324a);
  --card: rgba(255,255,255,0.07);
  --muted: #b6c2d2;
  --neon-pink: #ff5fcf;
  --neon-blue: #33e0ff;
  --title: #e0f3ff;
  --neon-green: #baff9e;
  --glass-border: rgba(255,255,255,0.09);
  --text: #eaf6ff;
  --desc: #e3f0ff;
}

/* Light mode variables */
:root[data-theme="light"]{
  --bg:#f5f7fa;
  --bg-accent: radial-gradient(circle at 20% 20%,rgba(0,240,255,0.05),transparent 35%),radial-gradient(circle at 80% 10%,rgba(255,45,166,0.05),transparent 30%),linear-gradient(180deg,#f5f7fa,#e8ecf1);
  --card: rgba(0,0,0,0.04);
  --muted: #5a6470;
  --neon-pink: #d61a8c;
  --neon-blue: #0099aa;
  --title: #1a3a5c;
  --neon-green: #5cb85c;
  --glass-border: rgba(0,0,0,0.08);
  --text: #1a1a2e;
  --desc: #2d3748;
}

*{box-sizing:border-box}
html,body{height:100%}
body{font-family:system-ui,'Segoe UI',Roboto,Arial,sans-serif; color:var(--text); background:var(--bg-accent), var(--bg); margin:0; padding:1.5rem; transition: background .25s ease, color .2s ease}

main{max-width:1100px;margin:0 auto;background:transparent;padding-bottom:4rem}
#articles{padding-bottom:1rem}

h1{
  margin:0 0 .5rem;
  font-family:Orbitron,monospace;
  color:#ff2da6;
  font-weight:700;
  letter-spacing:.5px;
  font-size:2rem;
  animation:none;
}
.subtitle{margin:.25rem 0 1.5rem;color:var(--muted);font-size:.95rem}

.controls{display:flex;flex-wrap:wrap;gap:.6rem;align-items:center;margin-bottom:1.5rem;padding:0.75rem 1rem;border:1px solid rgba(255,255,255,0.05);border-radius:10px;background:rgba(255,255,255,0.03)}

/* Dark mode toggle button */
#theme-toggle{
  background:linear-gradient(120deg, #ffd700, #ff8c00);
  color:#1a1a2e;
  border:0;
  padding:.55rem .9rem;
  border-radius:10px;
  cursor:pointer;
  font-weight:800;
  transition:transform .1s ease,box-shadow .1s ease;
  box-shadow:0 10px 25px rgba(0,0,0,0.35);
}
#theme-toggle:hover{
  box-shadow:0 12px 30px rgba(0,0,0,0.35);
  transform:translateY(-1px);
}
#theme-toggle .icon{
  margin-right:.3rem;
}
.visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}
button{background:linear-gradient(120deg,#00f0ff,#ff2da6);color:#041018;border:0;padding:.55rem .9rem;border-radius:10px;cursor:pointer;font-weight:800;transition:transform .1s ease,box-shadow .1s ease;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:manipulation;box-shadow:0 10px 25px rgba(0,0,0,0.35)}
@media (hover: hover){
  button:hover{box-shadow:0 12px 30px rgba(0,0,0,0.35);transform:translateY(-1px)}
}

button#filter-maudet.active{
  background:linear-gradient(120deg,#ff7acc,#ff2da6);
  box-shadow:0 12px 36px rgba(255,45,166,0.25);
}
button#filter-maudet.active:hover{
  box-shadow:0 15px 40px rgba(255,45,166,0.35);
  transform:translateY(-2px);
}

select{
  padding:.55rem .65rem;
  border-radius:8px;
  background:rgba(255,255,255,0.02);
  border:1px solid rgba(255,255,255,0.08);
  color:var(--text);
  min-width:160px;
  cursor:pointer;
  transition: border-color .15s ease,box-shadow .15s ease;
  -webkit-appearance:none;
  appearance:none;
  background-image: linear-gradient(45deg, transparent 50%, currentColor 50%), linear-gradient(135deg, currentColor 50%, transparent 50%);
  background-position: calc(100% - .8rem) calc(50% - 3px), calc(100% - .8rem) calc(50% + 3px);
  background-size: .4rem .4rem, .4rem .4rem;
  background-repeat:no-repeat;
}
select:focus{ border-color:#00f0ff; box-shadow:0 0 0 3px rgba(0,240,255,0.12); outline:none}

/* Specific styling for the town listbox */
select#filter-town{
  background: linear-gradient(90deg, rgba(11,92,255,0.04), rgba(255,45,166,0.02)), rgba(255,255,255,0.02);
  color:var(--text);
  padding-right:2.2rem;
  min-width:220px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.04);
}
select#filter-town option{
  padding:.5rem 1rem;
  background:var(--card);
  color:var(--text);
}
select#filter-town option:hover{ background:rgba(255,255,255,0.03); }

/* Custom cyberpunk-styled listbox */
.custom-listbox{ position:relative; display:inline-block; min-width:220px; }
.custom-listbox .cb-selected{ display:flex; align-items:center; justify-content:space-between; width:100%; padding:.5rem .9rem; border-radius:10px; background:linear-gradient(90deg, rgba(11,92,255,0.06), rgba(255,45,166,0.03)); color:var(--text); border:1px solid rgba(255,255,255,0.04); cursor:pointer; box-shadow: 0 8px 30px rgba(11,92,255,0.06), inset 0 1px 0 rgba(255,255,255,0.02);}
.custom-listbox .cb-selected:focus{ outline:none; box-shadow:0 12px 36px rgba(11,92,255,0.12); transform:translateY(-1px); }
.custom-listbox .cb-selected .cb-arrow{ opacity:0.9; margin-left:.6rem; }
.custom-listbox.open .cb-selected{ box-shadow:0 18px 60px rgba(255,45,166,0.06), 0 6px 30px rgba(11,92,255,0.06); }

.custom-listbox .cb-options{ position:absolute; right:0; left:0; margin-top:.5rem; padding:.35rem; border-radius:10px; list-style:none; background:linear-gradient(180deg, rgba(3,15,30,0.96), rgba(7,16,33,0.98)); border:1px solid rgba(255,255,255,0.04); box-shadow:0 24px 60px rgba(0,0,0,0.7); z-index:1000; max-height:260px; overflow:auto; }
.custom-listbox .cb-option{ padding:.6rem .8rem; margin:.2rem 0; border-radius:6px; color:var(--text); cursor:pointer; transition:background .12s ease, transform .08s ease; }
.custom-listbox .cb-option:hover{ background:linear-gradient(90deg, rgba(255,45,166,0.06), rgba(0,240,255,0.03)); transform:translateY(-2px); box-shadow: 0 6px 18px rgba(255,45,166,0.04); }
.custom-listbox .cb-option.selected{ background:linear-gradient(90deg,#ff2da6,#00f0ff); color:#071021; font-weight:700; box-shadow:0 12px 36px rgba(0,240,255,0.06), 0 8px 24px rgba(255,45,166,0.04); }
.custom-listbox .cb-option[aria-selected='true']{ outline:2px solid rgba(11,92,255,0.08); }

#status{color:var(--muted);margin-bottom:1rem}

#articles{list-style:none;padding:0;margin:0;display:grid;gap:1rem}
.article{position:relative; background: rgba(255,255,255,0.03); padding:1.1rem;border-radius:12px;border:1px solid rgba(255,255,255,0.06); box-shadow:0 18px 40px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.02); overflow:hidden; transition:transform .18s ease, box-shadow .18s ease}
.article::before{content:'';position:absolute;left:-30%;top:-60%;width:160%;height:180%;background:linear-gradient(120deg, rgba(255,45,166,0.02), rgba(0,240,255,0.02)); transform:rotate(15deg); pointer-events:none}
@media (hover: hover){
  .article:hover{transform:translateY(-6px); box-shadow:0 24px 50px rgba(0,0,0,0.5), 0 0 40px rgba(255,45,166,0.08)}
}

/* Maudet specific hover: stronger lift and glow */
.article.maudet{ transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease; }
@media (hover: hover){
  .article.maudet:hover{ transform: translateY(-10px) scale(1.02); box-shadow: 0 30px 80px rgba(255,59,59,0.12), 0 0 64px rgba(255,45,166,0.08); }
}

.title{font-weight:900;color:var(--title);text-decoration:none; font-size:1.05rem; text-shadow:0 0 6px rgba(115,164,255,0.06)}
.title:hover{filter:brightness(1.06);text-decoration:underline}

.meta{color:var(--muted);font-size:.86rem;margin:.35rem 0}

/* Neon accent bar */
.article .meta::before{content:'';display:inline-block;width:10px;height:10px;margin-right:.6rem;border-radius:3px;background:linear-gradient(90deg,#ff3b3b 0%,#39ff66 50%,#00f0ff 100%);box-shadow:0 0 8px rgba(255,59,59,0.06), 0 0 12px rgba(57,255,102,0.06), 0 0 18px rgba(0,240,255,0.06)}

/* Red frame for Maudet articles */
.article.maudet{border:2px solid #ff3b3b;border-left:4px solid #ff3b3b}
.article.maudet .title{color:var(--neon-pink);text-shadow:0 0 8px rgba(255,45,166,0.1);}

/* Tags styling */
.matches{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.6rem}
.tag{display:inline-block;padding:.3rem .7rem;background:linear-gradient(90deg,rgba(0,240,255,0.1),rgba(255,45,166,0.05));border:1px solid rgba(255,45,166,0.3);border-radius:6px;color:var(--muted);font-size:.8rem;font-weight:600;text-decoration:none;transition:all .15s ease;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:manipulation;cursor:pointer}
@media (hover: hover){
  .tag:hover{filter:brightness(1.08);transform:translateY(-2px);box-shadow:0 6px 16px rgba(255,45,166,0.15);border-color:rgba(255,45,166,0.5)}
}
.tag.primary{outline:2px solid rgba(0,240,255,0.4);box-shadow:0 8px 22px rgba(0,240,255,0.12)}
.tag.maudet{background: linear-gradient(90deg,#ff2da6,#ff7ab0); color: #071021; border:none; box-shadow:0 8px 24px rgba(255,45,166,0.2); font-weight:700}
.tag.maudet:hover{box-shadow:0 10px 28px rgba(255,45,166,0.3)}
.tag.removed{opacity:0.6;text-decoration:line-through}

/* Extra small screens */
@media (max-width:480px){
  h1{font-size:1.3rem}
  .subtitle{font-size:.9rem}
  .toast{left:1rem;right:1rem;bottom:1rem;width:calc(100% - 2rem)}
  .banner{padding:.6rem .8rem;font-size:.95rem}
  .custom-listbox .cb-options{max-height:50vh}
  .matches{gap:.3rem}
}

/* Persistent NewsAPI banner */
.banner{display:none;padding:.6rem 1rem;border-radius:8px;background:linear-gradient(90deg,rgba(255,45,166,0.06),rgba(0,240,255,0.02));color:var(--text);border:1px solid rgba(0,240,255,0.12);margin-bottom:1rem;position:relative}
.banner.visible{display:block}
#newsapi-banner-text{font-weight:700}
#newsapi-banner-close{position:absolute;right:.6rem;top:.5rem;border:0;background:transparent;color:var(--muted);cursor:pointer;font-weight:700;padding:.1rem .4rem}
#newsapi-banner-close:hover{color:var(--neon-pink)}

/* Toast notification */
.toast{position:fixed;right:1rem;bottom:1rem;background:rgba(3,15,30,0.9);color:var(--text);padding:.6rem .9rem;border-radius:8px;box-shadow:0 8px 24px rgba(0,0,0,0.5);opacity:0;transform:translateY(8px);transition:opacity .18s ease, transform .18s ease;z-index:9999}
.toast.visible{opacity:1;transform:translateY(0)}

/* Month tabs for pagination */
.month-tabs{display:flex;gap:.4rem;margin-top:calc(1rem + 8px);margin-bottom:1.5rem;overflow-x:auto;padding-bottom:.5rem;flex-wrap:wrap}
.month-tabs button{padding:.5rem 1rem;border:1px solid rgba(0,240,255,0.2);background:transparent;color:var(--muted);border-radius:6px;cursor:pointer;font-family:inherit;font-size:.9rem;transition:all .18s ease;white-space:nowrap}
.month-tabs button:hover{border-color:rgba(0,240,255,0.5);color:var(--neon-blue)}
.month-tabs button.active{background:linear-gradient(90deg,rgba(0,240,255,0.1),rgba(255,45,166,0.05));border-color:var(--neon-blue);color:var(--neon-blue);box-shadow:0 0 12px rgba(0,240,255,0.15)}

