module.exports=[5239,a=>{"use strict";var b=a.i(9168),c=a.i(7068),d=a.i(2759),e=a.i(3590),f=a.i(8695),g=a.i(8171),h=a.i(7669),i=a.i(9059);function j(){let[a,b]=h.default.useState([]),[c,d]=h.default.useState({}),[e,f]=h.default.useState([]),[j,k]=h.default.useState(""),[l,m]=h.default.useState("Chargement des dernières news municipales (Limoges 2026)..."),[n,o]=h.default.useState("–"),[p,q]=h.default.useState(0),[r,s]=h.default.useState("");(0,h.useEffect)(()=>{fetch("/api/news?limit=200").then(a=>a.json()).then(a=>{b(a.articles||[]),q((a.articles||[]).length),o(new Date().toLocaleString()),m(""),d(a.monthlyArticles||{}),f(a.months||[])}).catch(()=>m("Impossible de charger les news."))},[]);let t=["Aixe-sur-Vienne","Ambazac","Arnac-la-Poste","Augne","Aureil","Azat-le-Ris","Balledent","Beaumont-du-Lac","Bellac","Berneuil","Bersac-sur-Rivalier","Bessines-sur-Gartempe","Beynac","Blanzac","Blond","Boisseuil","Bonnac-la-Côte","Bosmie-l'Aiguille","Breuilaufa","Bujaleuf","Burgnac","Bussière-Boffy","Bussière-Galant","Bussière-Poitevine","Châlus","Chamboret","Champagnac-la-Rivière","Champnétery","Champsac","Chaptelat","Château-Chervix","Châteauneuf-la-Forêt","Châteauponsac","Le Châtenet-en-Dognon","Cheissoux","Chéronnac","Cieux","Cognac-la-Forêt","Condat-sur-Vienne","Coussac-Bonneval","Couzeix","Cromac","Cussac","Darnac","Dinsac","Domps","Draix","Eybouleuf","Eyjeaux","Eymoutiers","Feytiat","Flavignac","Folles","Fromental","Gajoubert","Glandon","Glanges","Gorre","Janailhac","Isle","Jabreilles-les-Bordes","Javerdat","Jouac","Jourgnac","La Bazeuge","La Chapelle-Montbrandeix","La Croisille-sur-Briance","La Genétouze","La Jonchère-Saint-Maurice","La Meyze","La Roche-l'Abeille","Laurière","Lavignac","Le Buis","Le Chalard","Le Dorat","Le Grand-Bourg","Le Palais-sur-Vienne","Le Vigen","Les Billanges","Les Cars","Les Grands-Chézeaux","Limoges","Linards","Lussac-les-Églises","Magnac-Bourg","Magnac-Laval","Mailhac-sur-Benaize","Maisonnais-sur-Tardoire","Marval","Masléon","Meilhac","Meuzac","Moissannes","Montrol-Sénard","Mortemart","Nantiat","Nedde","Neuvic-Entier","Nexon","Nieul","Nouic","Oradour-Saint-Genest","Oradour-sur-Glane","Oradour-sur-Vayres","Pageas","Panazol","Pensol","Peyrat-de-Bellac","Peyrat-le-Château","Peyrilhac","Pierre-Buffière","La Porcherie","Rancon","Razès","Rempnat","Rilhac-Rancon","Rilhac-Lastours","Rochechouart","Saint-Amand-Magnazeix","Saint-Auvent","Saint-Bazile","Saint-Bonnet-Briance","Saint-Bonnet-de-Bellac","Saint-Brice-sur-Vienne","Saint-Cyr","Saint-Denis-des-Murs","Saint-Gence","Saint-Genest-sur-Roselle","Saint-Georges-les-Landes","Saint-Germain-les-Belles","Saint-Gilles-les-Forêts","Saint-Hilaire-Bonneval","Saint-Hilaire-la-Treille","Saint-Hilaire-les-Places","Saint-Jean-Ligoure","Saint-Jouvent","Saint-Junien","Saint-Junien-les-Combes","Saint-Just-le-Martel","Saint-Laurent-les-Églises","Saint-Laurent-sur-Gorre","Saint-Léger-la-Montagne","Saint-Léger-Magnazeix","Saint-Léonard-de-Noblat","Saint-Martial-sur-Isop","Saint-Martin-de-Jussac","Saint-Martin-le-Mault","Saint-Martin-le-Vieux","Saint-Martin-Terressus","Saint-Maurice-les-Brousses","Saint-Méard","Saint-Ouen-sur-Gartempe","Saint-Pardoux","Saint-Paul","Saint-Priest-Ligoure","Saint-Priest-Taurion","Saint-Sornin-Leulac","Saint-Sornin-la-Marche","Saint-Sulpice-Laurière","Saint-Sulpice-les-Feuilles","Saint-Sylvestre","Saint-Victurnien","Saint-Vitte-sur-Briance","Saint-Yrieix-la-Perche","Saint-Yrieix-sous-Aixe","Sainte-Anne-Saint-Priest","Sainte-Marie-de-Vaux","Saillat-sur-Vienne","Sauviat-sur-Vige","Séreilhac","Solignac","Surdoux","Sussac","Tersannes","Thiat","Thouron","Vaulry","Vayres","Verneuil-Moustiers","Verneuil-sur-Vienne","Veyrac","Vicq-sur-Breuilh","Videix","Villefavard"],u=[],v=new Set;for(let b of a){let a=a=>(a||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),c=a(b.title||"").replace(/[^a-z0-9]/gi,"")+"|"+a(b.publishedAt||"").slice(0,10)+"|"+a(b.source||"");v.has(c)||(u.push(b),v.add(c))}let w=u.filter(a=>!j||!c[j]||c[j].some(b=>b.url===a.url)).filter(a=>{let b=a=>(a||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return a.matches&&a.matches.some(a=>t.some(c=>b(a)===b(c)))&&a.matches.some(a=>"municipales"===b(a))}).filter(a=>!r||a.matches&&a.matches.some(a=>a.toLowerCase()===r.toLowerCase())).sort((a,b)=>{let c=a.publishedAt?new Date(a.publishedAt).getTime():0;return(b.publishedAt?new Date(b.publishedAt).getTime():0)-c});return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i.default,{children:[(0,g.jsx)("title",{children:"Municipales 2026 News V3"}),(0,g.jsx)("meta",{charSet:"utf-8"}),(0,g.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"}),(0,g.jsx)("meta",{name:"theme-color",content:"#071021"}),(0,g.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"})]}),(0,g.jsxs)("main",{children:[(0,g.jsxs)("h1",{children:["Municipales 2026 News V3 ",(0,g.jsxs)("span",{id:"article-count",children:["(",w.length,")"]})]}),(0,g.jsxs)("p",{className:"subtitle",children:["Dernière mise à jour: ",(0,g.jsx)("span",{id:"updated",children:n})," • ",(0,g.jsx)("small",{className:"info",children:"Articles ≤ 1 mois, triés du plus récent au moins récent"})]}),(0,g.jsxs)("div",{style:{margin:"1em 0"},children:[(0,g.jsx)("button",{style:{marginRight:"0.5em",background:"#071021",color:"#fff",border:"1px solid #00f0ff",borderRadius:"4px",boxShadow:"none"},onClick:()=>k(""),children:"Tous les mois"}),e.map(a=>(0,g.jsx)("button",{onClick:()=>k(a),style:{marginRight:"0.5em",fontWeight:j===a?"bold":void 0,background:"#071021",color:"#fff",border:"1px solid #00f0ff",borderRadius:"4px",boxShadow:"none"},children:a},a))]}),(0,g.jsxs)("div",{style:{margin:"1em 0"},children:[(0,g.jsx)("label",{htmlFor:"ville-select",children:"Filtrer par ville :"}),(0,g.jsxs)("select",{id:"ville-select",value:r,onChange:a=>s(a.target.value),style:{marginLeft:"0.5em",background:"#071021",color:"#fff",border:"1px solid #00f0ff",borderRadius:"4px",boxShadow:"none"},children:[(0,g.jsx)("option",{value:"",children:"Toutes les villes"}),["Limoges","Saint-Junien","Panazol","Couzeix","Isle","Feytiat","Condat-sur-Vienne","Le Palais-sur-Vienne"].map(a=>(0,g.jsx)("option",{value:a,children:a},a))]}),(0,g.jsx)("button",{style:{marginLeft:"1em",background:"#071021",color:"#fff",border:"2px solid red",borderRadius:"4px",boxShadow:"none"},onClick:()=>s("maudet"),children:"Filtrer Maudet"}),r&&(0,g.jsx)("button",{style:{marginLeft:"0.5em",background:"#071021",color:"#fff",border:"1px solid #00f0ff",borderRadius:"4px",boxShadow:"none"},onClick:()=>s(""),children:"Réinitialiser le filtre"})]}),(0,g.jsx)("div",{id:"status",children:l}),(0,g.jsx)("ul",{id:"articles",children:w.map((a,b)=>(0,g.jsxs)("li",{className:"article",style:a.matches&&a.matches.some(a=>"maudet"===a.toLowerCase())?{border:"2px solid red",borderRadius:"6px",padding:"0.5em"}:{},children:[(0,g.jsx)("a",{className:"title",href:a.url,target:"_blank",rel:"noopener noreferrer",children:a.title}),(0,g.jsxs)("div",{className:"meta",children:[a.source," — ",a.publishedAt?new Date(a.publishedAt).toLocaleString():""]}),a.matches&&a.matches.length>0&&(0,g.jsx)("div",{className:"matches",children:a.matches.map(b=>(0,g.jsx)("span",{className:"tag",style:{fontWeight:b===a.primaryMatch?"bold":void 0},children:b},b))})]},b))})]})]})}a.s(["default",()=>j],8255);var k=a.i(8255),l=a.i(9193);let m=(0,d.hoist)(k,"default"),n=(0,d.hoist)(k,"getStaticProps"),o=(0,d.hoist)(k,"getStaticPaths"),p=(0,d.hoist)(k,"getServerSideProps"),q=(0,d.hoist)(k,"config"),r=(0,d.hoist)(k,"reportWebVitals"),s=(0,d.hoist)(k,"unstable_getStaticProps"),t=(0,d.hoist)(k,"unstable_getStaticPaths"),u=(0,d.hoist)(k,"unstable_getStaticParams"),v=(0,d.hoist)(k,"unstable_getServerProps"),w=(0,d.hoist)(k,"unstable_getServerSideProps"),x=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/index",pathname:"/",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:k}),y=(0,l.getHandler)({srcPage:"/index",config:q,userland:k,routeModule:x,getStaticPaths:o,getStaticProps:n,getServerSideProps:p});a.s(["config",0,q,"default",0,m,"getServerSideProps",0,p,"getStaticPaths",0,o,"getStaticProps",0,n,"handler",0,y,"reportWebVitals",0,r,"routeModule",0,x,"unstable_getServerProps",0,v,"unstable_getServerSideProps",0,w,"unstable_getStaticParams",0,u,"unstable_getStaticPaths",0,t,"unstable_getStaticProps",0,s],5239)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_pages_3c3dbd90.js.map