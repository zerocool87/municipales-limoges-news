module.exports=[406,(e,t,a)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},5012,e=>e.a(async(t,a)=>{try{let t=await e.y("node-fetch-77c8c86ae6be5b7f");e.n(t),a()}catch(e){a(e)}},!0),1658,(e,t,a)=>{t.exports=e.x("rss-parser-20b16fd21a7c6589",()=>require("rss-parser-20b16fd21a7c6589"))},1619,e=>e.a(async(t,a)=>{try{var r=e.i(5012),s=e.i(1658),i=t([r]);[r]=i.then?(await i)():i;let l=new s.default;async function n(e=10,t=!1){let a=[],s=[];await Promise.all([{url:"https://news.google.com/rss/search?q=Limoges+municipales+2026&hl=fr&gl=FR&ceid=FR:fr",name:"Google News (Limoges municipales 2026)"},{url:"https://www.francebleu.fr/rss/infos.xml",name:"France Bleu"}].map(async e=>{try{let t=await (0,r.default)(e.url,{headers:{"User-Agent":"Mozilla/5.0 (X11; Linux) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120 Safari/537.36",Accept:"application/rss+xml, application/xml, text/xml, */*"}});if(!t.ok)return void s.push({url:e.url,name:e.name,status:"error",httpStatus:t.status});let i=await t.text(),n=await l.parseString(i),o=(n.items||[]).map(t=>({title:t.title,description:t.contentSnippet||t.content||t.summary||"",url:t.link,source:e.name||n.title||new URL(e.url).hostname,publishedAt:t.isoDate||t.pubDate||null}));a.push(...o),s.push({url:e.url,name:e.name,status:"ok",httpStatus:t.status,itemsFound:o.length})}catch(t){s.push({url:e.url,name:e.name,status:"error",error:t.message})}}));let i=a.filter(e=>e.publishedAt).sort((e,t)=>new Date(t.publishedAt)-new Date(e.publishedAt)).slice(0,e);return t?{items:i,reports:s}:i}e.s(["fetchRssFeeds",()=>n]),a()}catch(e){a(e)}},!1),299,e=>e.a(async(t,a)=>{try{var r=e.i(1619),s=t([r]);async function i(e,t){try{let a=parseInt(e.query.limit,10)||200,s="true"===e.query.debug,i=await (0,r.fetchRssFeeds)(a,s),n=s&&i.items?i.items:i,l=s&&i.reports?i.reports:null,o={},u=[];n.forEach(e=>{if(e.publishedAt){let t=new Date(e.publishedAt).toLocaleString("fr-FR",{month:"long",year:"numeric"});o[t]||(o[t]=[],u.push(t)),o[t].push(e)}});let p={articles:n,monthlyArticles:o,months:u};l&&(p.reports=l),t.status(200).json(p)}catch(e){t.status(500).json({articles:[],monthlyArticles:{},months:[],error:e.message})}}[r]=s.then?(await s)():s,e.s(["default",()=>i]),a()}catch(e){a(e)}},!1),832,e=>e.a(async(t,a)=>{try{var r=e.i(6747),s=e.i(9245),i=e.i(4898),n=e.i(2950),l=e.i(299),o=e.i(7031),u=e.i(1927),p=e.i(6432),c=t([l]);[l]=c.then?(await c)():c;let h=(0,n.hoist)(l,"default"),m=(0,n.hoist)(l,"config"),f=new i.PagesAPIRouteModule({definition:{kind:s.RouteKind.PAGES_API,page:"/api/news",pathname:"/api/news",bundlePath:"",filename:""},userland:l,distDir:".next",relativeProjectDir:""});async function d(e,t,a){f.isDev&&(0,p.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let s="/api/news";s=s.replace(/\/index$/,"")||"/";let i=await f.prepare(e,t,{srcPage:s});if(!i){t.statusCode=400,t.end("Bad Request"),null==a.waitUntil||a.waitUntil.call(a,Promise.resolve());return}let{query:n,params:l,prerenderManifest:c,routerServerContext:d}=i;try{let a=e.method||"GET",r=(0,o.getTracer)(),i=r.getActiveScopeSpan(),p=f.instrumentationOnRequestError.bind(f),h=async i=>f.render(e,t,{query:{...n,...l},params:l,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:c.preview,propagateError:!1,dev:f.isDev,page:"/api/news",internalRevalidate:null==d?void 0:d.revalidate,onError:(...t)=>p(e,...t)}).finally(()=>{if(!i)return;i.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let e=r.getRootSpanAttributes();if(!e)return;if(e.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${e.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=e.get("next.route");if(n){let e=`${a} ${n}`;i.setAttributes({"next.route":n,"http.route":n,"next.span_name":e}),i.updateName(e)}else i.updateName(`${a} ${s}`)});i?await h(i):await r.withPropagatedContext(e.headers,()=>r.trace(u.BaseServerSpan.handleRequest,{spanName:`${a} ${s}`,kind:o.SpanKind.SERVER,attributes:{"http.method":a,"http.target":e.url}},h))}catch(e){if(f.isDev)throw e;(0,r.sendError)(t,500,"Internal Server Error")}finally{null==a.waitUntil||a.waitUntil.call(a,Promise.resolve())}}e.s(["config",0,m,"default",0,h,"handler",()=>d]),a()}catch(e){a(e)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__2e5b2d50._.js.map